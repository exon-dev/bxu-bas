<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Inspections</title>
  <link
   rel="stylesheet"
   href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.3/css/bootstrap.min.css"
  />
 </head>
 <style>
  body {
   font-family: "Poppins", Arial, sans-serif !important;
   background-color: #f4f4f9;
   margin: 0;
   padding: 0;
  }
  .card {
   border-radius: 10px;
   -webkit-box-shadow: 0 1px 2.94px 0.06px rgba(4, 26, 55, 0.16);
   box-shadow: 0 1px 2.94px 0.06px rgba(4, 26, 55, 0.16);
   border: none;
   margin-bottom: 30px;
   -webkit-transition: all 0.3s ease-in-out;
   transition: all 0.3s ease-in-out;
  }
 </style>
 <body>
  <div class="card">
   <div class="card-body">
    <h4>Business Inspection</h4>
    <p>Inspect business and create violations for business violators</p>
    <button
     class="btn btn-primary"
     id="openModalBtn"
     data-bs-toggle="modal"
     data-bs-target="#violatorModal"
    >
     Add Inspection
    </button>
   </div>
  </div>

  <!-- Modal Structure -->
  <div
   class="modal fade"
   id="violatorModal"
   tabindex="-1"
   aria-labelledby="violatorModalLabel"
   aria-hidden="true"
  >
   <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
     <div class="modal-header">
      <h5 class="modal-title" id="violatorModalLabel">Business Inspection</h5>
      <button
       type="button"
       class="btn-close"
       data-bs-dismiss="modal"
       aria-label="Close"
      ></button>
     </div>
     <div class="modal-body">
      <form id="violatorForm">
       <!-- Owner's Information -->
       <div class="row mb-3">
        <div class="col-md-6">
         <label for="ownerFirstName" class="form-label"
          >Owner's First Name:</label
         >
         <input
          type="text"
          class="form-control"
          id="ownerFirstName"
          name="ownerFirstName"
          value="Jane"
          required
         />
        </div>
        <div class="col-md-6">
         <label for="ownerLastName" class="form-label"
          >Owner's Last Name:</label
         >
         <input
          type="text"
          class="form-control"
          id="ownerLastName"
          name="ownerLastName"
          value="Smith"
          required
         />
        </div>
       </div>
       <div class="row mb-3">
        <div class="col-md-6">
         <label for="ownerEmail" class="form-label">Owner's Email:</label>
         <input
          type="email"
          class="form-control"
          id="ownerEmail"
          name="ownerEmail"
          value="janesmith@example.com"
          required
         />
        </div>
        <div class="col-md-6">
         <label for="ownerPhoneNumber" class="form-label"
          >Owner's Phone Number:</label
         >
         <input
          type="text"
          class="form-control"
          id="ownerPhoneNumber"
          name="ownerPhoneNumber"
          value="9876543210"
          required
         />
        </div>
       </div>

       <!-- Business Information -->
       <div class="row mb-3">
        <div class="col-md-6">
         <label for="businessName" class="form-label">Business Name:</label>
         <input
          type="text"
          class="form-control"
          id="businessName"
          name="businessName"
          value="Smith's Deli"
          required
         />
        </div>
        <div class="col-md-6">
         <label for="businessPermit" class="form-label">Business Permit:</label>
         <input
          type="text"
          class="form-control"
          id="businessPermit"
          name="businessPermit"
          value="BP987654321"
          required
         />
        </div>
       </div>
       <div class="row mb-3">
        <div class="col-md-6">
         <label for="businessStatus" class="form-label">Business Status:</label>
         <select
          class="form-select"
          id="businessStatus"
          name="businessStatus"
          required
         >
          <option value="Active" selected>Active</option>
          <option value="Inactive">Inactive</option>
         </select>
        </div>
       </div>

       <!-- Address Information -->
       <div class="row mb-3">
        <div class="col-md-6">
         <label for="street" class="form-label">Street:</label>
         <input
          type="text"
          class="form-control"
          id="street"
          name="street"
          value="456 Elm St"
          required
         />
        </div>
        <div class="col-md-6">
         <label for="city" class="form-label">City:</label>
         <input
          type="text"
          class="form-control"
          id="city"
          name="city"
          value="Metropolis"
          required
         />
        </div>
       </div>
       <div class="row mb-3">
        <div class="col-md-6">
         <label for="zip" class="form-label">ZIP Code:</label>
         <input
          type="text"
          class="form-control"
          id="zip"
          name="zip"
          value="67890"
          required
         />
        </div>
       </div>

       <!-- Inspection Details -->
       <div class="row mb-3">
        <div class="col-md-6">
         <label for="typeOfInspection" class="form-label"
          >Type of Inspection:</label
         >
         <select
          class="form-select"
          id="typeOfInspection"
          name="typeOfInspection"
          required
         >
          <option value="Routine">Routine</option>
          <option value="Follow-up" selected>Follow-up</option>
         </select>
        </div>
        <div class="col-md-6">
         <label for="withViolations" class="form-label">With Violations:</label>
         <select
          class="form-select"
          id="withViolations"
          name="withViolations"
          required
         >
          <option value="true" selected>Yes</option>
          <option value="false">No</option>
         </select>
        </div>
       </div>

       <div
        class="row mb-3"
        id="natureOfViolationContainer"
        style="display: none"
       >
        <div class="col-md-12">
         <label for="natureOfViolation" class="form-label"
          >Nature of Violation:</label
         >
         <input
          type="text"
          class="form-control"
          id="natureOfViolation"
          name="natureOfViolation"
          value="Expired food items and unsanitary conditions."
         />
        </div>
       </div>

       <div class="row mb-3">
        <div class="col-md-6">
         <label for="violationReceipt" class="form-label"
          >Violation Receipt No.:</label
         >
         <input
          type="text"
          class="form-control"
          id="violationReceipt"
          name="violationReceipt"
          value="VR456789123"
          required
         />
        </div>
        <div class="col-md-6">
         <label for="dueDate" class="form-label">Due Date:</label>
         <input
          type="date"
          class="form-control"
          id="dueDate"
          name="dueDate"
          value="2025-01-15"
          required
         />
        </div>
       </div>

       <!-- Submit Button -->
       <div class="row mb-3">
        <div class="col-md-12">
         <button type="submit" class="btn btn-primary">Submit</button>
        </div>
       </div>
      </form>
     </div>
    </div>
   </div>
  </div>

  <!-- Add Success Modal -->
  <div class="modal fade" id="successModal" tabindex="-1" aria-hidden="true">
   <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
     <div class="modal-header">
      <h5 class="modal-title">Success</h5>
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
     </div>
     <div class="modal-body">
      <p>Inspection has been successfully saved!</p>
     </div>
     <div class="modal-footer">
      <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
     </div>
    </div>
   </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.3.3/js/bootstrap.min.js"></script>
  <script>
   document.addEventListener("DOMContentLoaded", function () {
    const violationStatus = document.getElementById("withViolations");
    const natureOfViolationContainer = document.getElementById(
     "natureOfViolationContainer"
    );

    violationStatus.addEventListener("change", function () {
     natureOfViolationContainer.style.display = 
       violationStatus.value === "true" ? "block" : "none";
    });

    // Form submission handling
    const violatorForm = document.getElementById("violatorForm");
    violatorForm.addEventListener("submit", function (e) {
     e.preventDefault();
     // Add your form submission logic here
     
     // Hide the form modal
     const violatorModal = bootstrap.Modal.getInstance(document.getElementById('violatorModal'));
     violatorModal.hide();
     
     // Show success modal
     const successModal = new bootstrap.Modal(document.getElementById('successModal'));
     successModal.show();
    });

    // Delete functionality
    document.querySelectorAll('.delete-btn').forEach(button => {
     button.addEventListener('click', function() {
      if (confirm('Are you sure you want to delete this inspection?')) {
       const row = this.closest('tr');
       const inspectionId = this.dataset.id;
       // Add your delete logic here
       
       // Remove row from table
       row.remove();
      }
     });
    });
   });
  </script>
 </body>
</html>
<section class="card mt-3">
 <div class="card-body">
  <h4>Inspected Businesses</h4>
  <table class="table">
   <thead>
    <tr>
     <th scope="col" style="background-color: #f4f4f9">Business ID</th>
     <th scope="col" style="background-color: #f4f4f9">Inspector ID</th>
     <th scope="col" style="background-color: #f4f4f9">Inspection Date</th>
     <th scope="col" style="background-color: #f4f4f9">Type of Inspection</th>
     <th scope="col" style="background-color: #f4f4f9">With Violations</th>
     <th scope="col" style="background-color: #f4f4f9">Actions</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>12345</td>
     <td>1</td>
     <td>2023-01-10</td>
     <td>Regular</td>
     <td>Yes</td>
     <td>
      <button class="btn btn-danger btn-sm delete-btn" data-id="12345">Delete</button>
     </td>
    </tr>
    <tr>
     <td>67890</td>
     <td>2</td>
     <td>2023-02-05</td>
     <td>Night</td>
     <td>No</td>
     <td>
      <button class="btn btn-danger btn-sm delete-btn" data-id="67890">Delete</button>
     </td>
    </tr>
    <tr>
     <td>11223</td>
     <td>3</td>
     <td>2023-03-15</td>
     <td>Special (Verification)</td>
     <td>Yes</td>
     <td>
      <button class="btn btn-danger btn-sm delete-btn" data-id="11223">Delete</button>
     </td>
    </tr>
   </tbody>
  </table>
 </div>
</section>
