<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Inspector</title>
  <link
   href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
   rel="stylesheet"
  />
  <link
   href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap"
   rel="stylesheet"
  />
  <style>
   body {
    font-family: 'Poppins', sans-serif;
   }
  </style>
 </head>
 <body id="inspector">
  <div class="mt-4">
   <h4>Inspector</h4>
   <p>Manage inspector users throughout BXU BAS System</p>
   <button id="showFormButton" class="btn btn-secondary mb-3" data-bs-toggle="modal" data-bs-target="#addInspectorModal">Add New Inspector</button>

   <!-- Modal -->
   <div class="modal fade" id="addInspectorModal" tabindex="-1" aria-labelledby="addInspectorModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
     <div class="modal-content">
      <div class="modal-header">
       <h5 class="modal-title" id="addInspectorModalLabel">Add New Inspector</h5>
       <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
       <form id="addInspectorForm">
        <div class="mb-3">
         <label for="email" class="form-label">Email</label>
         <input type="email" class="form-control" id="email" required />
        </div>
        <div class="mb-3">
         <label for="firstName" class="form-label">First Name</label>
         <input type="text" class="form-control" id="firstName" required />
        </div>
        <div class="mb-3">
         <label for="lastName" class="form-label">Last Name</label>
         <input type="text" class="form-control" id="lastName" required />
        </div>
        <div class="mb-3">
         <label for="contactNumber" class="form-label">Contact Number</label>
         <input type="text" class="form-control" id="contactNumber" required />
        </div>
        <button type="submit" class="btn btn-primary">Add Inspector</button>
       </form>
      </div>
     </div>
    </div>
   </div>

   <!-- List of Inspectors -->
   <div id="message" class="mt-3"></div>
   <table class="table table-striped mt-4">
    <thead>
     <tr>
      <th scope="col">No.</th>
      <th scope="col">Email</th>
      <th scope="col">Full Name</th>
      <th scope="col">Date Created</th>
      <th scope="col">Date Updated</th>
      <th scope="col">No. of Inspections</th>
     </tr>
    </thead>
    <tbody id="inspectorList">
     <!-- Inspector rows will be added here dynamically -->
    </tbody>
   </table>
  </div>

  <script>
   document.addEventListener('DOMContentLoaded', function () {
    const addInspectorForm = document.getElementById('addInspectorForm');
    const inspectorList = document.getElementById('inspectorList');

    addInspectorForm.addEventListener('submit', function (event) {
     event.preventDefault();

     const email = document.getElementById('email').value;
     const firstName = document.getElementById('firstName').value;
     const lastName = document.getElementById('lastName').value;
     const contactNumber = document.getElementById('contactNumber').value;

     // Here you can add your logic to save the inspector details
     // For example, you can send the data to the server using fetch or AJAX

     // For demonstration, we'll add a new row to the table
     const newRow = document.createElement('tr');
     newRow.innerHTML = `
       <th scope="row">${inspectorList.children.length + 1}</th>
       <td>${email}</td>
       <td>${firstName} ${lastName}</td>
       <td>${new Date().toLocaleDateString()}</td>
       <td>${new Date().toLocaleDateString()}</td>
       <td>0</td>
     `;
     inspectorList.appendChild(newRow);

     // Display a success message
     document.getElementById('message').innerHTML = `
       <div class="alert alert-success" role="alert">
         Inspector added successfully!
       </div>
     `;

     // Clear the form
     addInspectorForm.reset();

     // Hide the modal
     const addInspectorModal = new bootstrap.Modal(document.getElementById('addInspectorModal'));
     addInspectorModal.hide();
    });
   });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
 </body>
</html>
